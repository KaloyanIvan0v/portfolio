<form
  action="https://formspree.io/f/mzzpyqle"
  method="POST"
  #userForm="ngForm"
  (ngSubmit)="onSubmit(userForm)"
>
  <div data-aos="fade-up" data-aos-duration="1000" class="input-waraper">
    <div
      [ngClass]="{
        'error-input-border': name.invalid && name.touched,
        'valid-input-border': name.valid && name.touched
      }"
      class="input-div"
    >
      <input
        type="text"
        placeholder="{{ 'form.name' | translate }}"
        required
        [(ngModel)]="user.name"
        name="name"
        #name="ngModel"
      />
      <div class="d-flex" *ngIf="name.invalid && name.touched">
        <img
          src="./../../../../assets/img/05-contact-section/invalid-input.svg"
          alt="Invalid"
        />
      </div>
      <div class="d-flex" *ngIf="name.valid && name.touched">
        <img
          src="./../../../../assets/img/05-contact-section/valid-input.svg"
          alt="Valid"
        />
      </div>
    </div>
    <div class="input-div-error" *ngIf="name.invalid && name.touched">
      <p>{{ "form.nameRequired" | translate }}</p>
    </div>
  </div>

  <!-- Email Field -->
  <div data-aos="fade-up" data-aos-duration="1000" class="input-waraper">
    <div
      [ngClass]="{
        'error-input-border': email.invalid && email.touched,
        'valid-input-border': email.valid && email.touched
      }"
      class="input-div"
    >
      <input
        type="email"
        placeholder="{{ 'form.email' | translate }}"
        required
        [(ngModel)]="user.email"
        name="email"
        #email="ngModel"
        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
      />
      <div class="d-flex" *ngIf="email.invalid && email.touched">
        <img
          src="./../../../../assets/img/05-contact-section/invalid-input.svg"
          alt="Invalid"
        />
      </div>
      <div class="d-flex" *ngIf="email.valid && email.touched">
        <img
          src="./../../../../assets/img/05-contact-section/valid-input.svg"
          alt="Valid"
        />
      </div>
    </div>
    <div class="input-div-error" *ngIf="email.invalid && email.touched">
      <p>{{ "form.emailRequired" | translate }}</p>
    </div>
  </div>

  <!-- Message Field -->
  <div data-aos="fade-up" data-aos-duration="1000" class="input-waraper">
    <div
      [ngClass]="{
        'error-input-border': message.invalid && message.touched,
        'valid-input-border': message.valid && message.touched
      }"
      class="input-div"
    >
      <div class="textarea-container" #textareaWrapper>
        <textarea
          placeholder="{{ 'form.message' | translate }}"
          [(ngModel)]="user.message"
          name="message"
          required
          #message="ngModel"
        ></textarea>
        <div
          class="resize-handle"
          (mousedown)="onResizeStart($event, textareaWrapper)"
        ></div>
        <div class="valid-img-wrapper">
          <div class="d-flex" *ngIf="message.invalid && message.touched">
            <img
              src="./../../../../assets/img/05-contact-section/invalid-input.svg"
              alt="Invalid"
            />
          </div>
          <div class="d-flex" *ngIf="message.valid && message.touched">
            <img
              src="./../../../../assets/img/05-contact-section/valid-input.svg"
              alt="Valid"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="input-div-error" *ngIf="message.invalid && message.touched">
      <p>{{ "form.messageRequired" | translate }}</p>
    </div>
  </div>

  <!-- Privacy Policy -->
  <div data-aos="fade-up" data-aos-duration="1000" class="form-privacy-policy">
    <img
      (click)="checkbox = !checkbox"
      [src]="
        checkbox
          ? './../../../../assets/img/05-contact-section/box-checked.png'
          : './../../../../assets/img/05-contact-section/box-unchecked.png'
      "
      alt="Checkbox"
    />
    <span>
      {{ "form.privacy.policyText" | translate }}
      <a [href]="link" class="policy-link">
        {{ "form.privacy.policyLinkText" | translate }}
      </a>
      {{ "form.privacy.policyTextContinuation" | translate }}
    </span>
  </div>
  <div
    class="input-div-error"
    *ngIf="!checkbox && userForm.submitted && userForm.touched"
  >
    <p>{{ "form.accept" | translate }}</p>
  </div>
  <!-- Submit Button -->
  <button
    data-aos="fade-up"
    data-aos-duration="1000"
    type="submit"
    class="btn-green button-optic"
    [ngClass]="{ 'button-disabled': userForm.invalid || !checkbox }"
  >
    {{ "form.send" | translate }}
  </button>
  <div
    [ngClass]="{
      'v-none': msgSendFeedback.active == false,
      'v-active': msgSendFeedback.active
    }"
    class="form-send-feedback"
  >
    <p>{{ msgSendFeedback.msg }}</p>
  </div>
</form>
